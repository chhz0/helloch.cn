---
prev:
  text: 'æ•°æ®ç±»å‹ - Sets'
  link: 'redis/data-types/Sets'
next:
  text: 'æ•°æ®ç±»å‹ - ZSet'
  link: '/redis/data-types/ZSet'
---
# Hash <Badge type="tip" text="Redis Hash" />

Redis Hash æ˜¯ç»“æ„åŒ–ä¸ºå­—æ®µå€¼(field)->å€¼(value)é›†åˆçš„è®°å½•ç±»å‹. å¯ä»¥ä½¿ç”¨`Hash`æ¥è¡¨ç¤ºåŸºç¡€å¯¹è±¡å¹¶å­˜å‚¨è®¡æ•°å™¨åˆ†ç»„.

> åˆ›å»ºçš„`Hash`æ•°é‡æ²¡æœ‰å®é™…é™åˆ¶ï¼Œé™¤äº†å—åˆ°å¯ç”¨å†…å­˜çš„é™åˆ¶ï¼Œ
> ä½†æ˜¯æ¯ä¸ª`Hash`æœ€å¤šå¯ä»¥å­˜å‚¨ 4,294,967,295 (2^32 - 1) ä¸ªå­—æ®µå€¼å¯¹

`Hash`å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¡¨ç¤ºå¯¹è±¡

## Hash å‘½ä»¤

Hashå¸¸ç”¨å‘½ä»¤ï¼š

- åˆ›å»ºï¼š`HSET`, `HSETNX`
  - `HSET key field value` # ä¸ºé›†åˆå¯¹äºfieldè®¾ç½®valueï¼Œå¯ä»¥ä¸€æ¬¡è®¾ç½®å¤šä¸ªfield-value
  - `HSETNX key field value` # å¦‚æœfieldä¸å­˜åœ¨ï¼Œåˆ™ä¸ºé›†åˆå¯¹åº”fieldè®¾ç½®valueæ•°æ®
- æŸ¥è¯¢ï¼š`HGETALL`, `HGET`, `HLEN`, `HSCAN`
  - `HGETALL key` # æŸ¥æ‰¾å…¨éƒ¨æ•°æ®
  - `HGET key field` # æŸ¥æ‰¾æŸä¸ªkeyï¼ˆfieldï¼‰
  - `HLEN key` # æŸ¥æ‰¾Hashä¸­å…ƒç´ æ€»æ•°
  - `HSCAN key cursor [MATCH pattern] [COUNT count]` # ä»æŒ‡å®šä½ç½®æŸ¥è¯¢ä¸€å®šæ•°é‡çš„æ•°æ®ï¼Œè¿™é‡Œæ³¨æ„å¦‚æœæ˜¯å°æ•°æ®é‡ä¸‹ï¼Œå¤„äºZIPLISTæ—¶ï¼ŒCOUNTä¸ç®¡å¡«å¤šå°‘ï¼Œéƒ½æ˜¯è¿”å›å…¨éƒ¨ï¼Œå› ä¸ºZIPLISTæœ¬èº«å°±ç”¨äºå°é›†åˆï¼Œæ²¡å¿…è¦åˆ‡åˆ†å‡ æ®µè¿”å›
- æ›´æ–°ï¼š`HSET`, `HSETNX`, `HDEL`
  - `HDEL key field [field ...]` # åˆ é™¤æŒ‡å®šfieldï¼Œå¯ä»¥ä¸€æ¬¡åˆ é™¤å¤šä¸ª
- åˆ é™¤ï¼š`DEL`
  - `DEL key [key ...]` # åˆ é™¤Hashå¯¹è±¡

## Hash ç¼–ç (åº•å±‚å®ç°)

Hashåº•å±‚æœ‰ä¸¤ä¸ªç¼–ç æ–¹å¼ï¼š`ZIPLIST`, `HASHTABLE`

- `ZIPLIT`ç¼–ç éœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶:
  - Hashå¯¹è±¡ä¿å­˜çš„æ‰€æœ‰å€¼å’Œé”®çš„é•¿åº¦éƒ½å°äº64å­—èŠ‚
  - Hashå¯¹è±¡ä¿å­˜å…ƒç´ å¯¹è±¡å°äº512ä¸ª

å½“Hashçš„åº•å±‚ç¼–ç ä¸º`ZIPLIST`æ—¶ï¼Œå³æ•°é‡è¾ƒå°‘æ—¶å°†æ•°æ®ç´§å‡‘æ’åˆ—ï¼Œå¯¹åº”åˆ°Hashï¼Œå°±æ˜¯å°†`field-value`å½“ä½œ`entry`å­˜æ”¾è¿›`ZIPLIST`.

å¦‚æœHashçš„åº•å±‚ç¼–ç ä¸º`HASHTABLE`æ—¶ï¼Œä¸ä¸Šé¢çš„Setï¼ˆæ— åºåˆ—è¡¨ï¼‰ä½¿ç”¨HASHTABLEï¼ŒåŒºåˆ«åœ¨äºåœ¨Setä¸­Valueå§‹ç»ˆä¸ºnullï¼Œä½†æ˜¯åœ¨Hashä¸­ï¼Œå…·æœ‰å¯¹åº”çš„å€¼.

> [!NOTE] ç¼–ç è¯¦è§£
> ğŸ”— [æŸ¥çœ‹HASHTABLEç¼–ç ](./encoding-hashtable.md)